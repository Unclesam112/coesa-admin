import{q as U,_ as F,I as S,j as f,k as y,i as V,z as w,s as E,x as D,y as N,r as x,o as r,c as d,a as e,w as n,v as c,t as b,g as T,e as m,F as g,l as C,C as I,b as k,D as B,p as A,d as L,h as M}from"./index-67d284e1.js";const q=U(),P={components:{Icon:S},data(){return{id:Date.now().toString(),title:"",description:"",about:"",thingsToExpect:[{id:Date.now(),value:""}],instructors:[{id:Date.now(),value:""}],date:"",time:"",level:"",duration:"",newCategory:"",categories:[],selectedCategory:"",selectedFile:null,isUploading:!1,showAlmostThere:!1,characterCount:0,textareaCharacterCount:0}},mounted(){this.fetchCategories()},methods:{updateCounter(){this.characterCount=this.description.length},updateTextareaCounter(){this.textareaCharacterCount=this.about.length},handleFileChange(a){this.selectedFile=a.target.files[0]},addThing(){this.thingsToExpect.push({id:Date.now(),value:""})},removeThing(a){this.thingsToExpect.splice(a,1)},addCourseInstructor(){this.instructors.push({id:Date.now(),value:""})},removeCourseInstructor(a){this.instructors.splice(a,1)},async fetchCategories(){try{const a=f(y,"/Courses/BNxBt2TPh4f2ytHMdbmf/Course-categories"),s=await V(a);this.categories=s.docs.map(h=>({id:h.id,name:h.data().name}))}catch(a){console.error("Error fetching categories:",a)}},async addCategory(){if(this.newCategory.trim()!=="")try{const a=f(y,"/Courses/BNxBt2TPh4f2ytHMdbmf/Course-categories");await w(a,{name:this.newCategory}),alert("Category added successfully"),this.newCategory=""}catch(a){console.error("Error adding category:",a)}},async submitForm(){if(this.selectedFile&&this.title&&this.description&&this.date&&this.time&&this.about&&this.thingsToExpect&&this.instructors&&this.level&&this.duration!==null){const a=E(q,"images/"+this.selectedFile.name);this.isUploading=!0,setTimeout(()=>{this.showAlmostThere=!0},1e4),await D(a,this.selectedFile).then(()=>{console.log("Image uploaded successfully!")}).catch(o=>{console.error("Error uploading image:",o)}),await new Promise(o=>setTimeout(o,1e3));const s=await N(a),h=Date.now().toString();console.log(h);const v=f(y,"Courses");await w(v,{id:this.id,title:this.title,description:this.description,about:this.about,thingsToExpect:this.thingsToExpect,instructors:this.instructors,category:this.selectedCategory,time:this.time,date:this.date,level:this.level,duration:this.duration,imageUrl:s}),alert("Data save successfully"),console.log("Data saved successfully!"),this.isUploading=!1,this.isUploading=!1,this.$refs.uploadForm.reset(),this.title="",this.description="",this.about="",this.thingsToExpect="",this.instructors="",this.date="",this.time="",this.level="",this.duration="",this.selectedFile=null}else console.warn("No file selected.")}}},l=a=>(A("data-v-b00abdff"),a=a(),L(),a),R=l(()=>e("h1",null,"Create Course",-1)),H={class:"row"},K={class:"col-lg-6 col-md-6"},j={class:"mb-3 mt-4"},z=l(()=>e("label",{for:"exampleInputName",class:"form-label"},"Add Course Image",-1)),G={class:"mb-3"},J=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"}," Course Title",-1)),O={class:"mb-3"},Q=l(()=>e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Course Description(briefly describe the course)",-1)),W={class:"mb-3"},X=l(()=>e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"About Course",-1)),Y={key:0,type:"submit",class:"btn btn-secondary btn-lg"},Z=l(()=>e("span",{class:"spinner-border spinner-border-sm text-white mx-2",role:"status"},null,-1)),$={key:1,type:"submit",class:"btn btn-secondary btn-lg"},ee={class:"col-lg-6 col-md-6"},te={class:"row"},se={class:"col-lg-6 col-md-6"},oe={class:"mb-3"},le=l(()=>e("label",{for:"things_to_expect"},"Things to Expect:",-1)),ae=["onUpdate:modelValue"],ie=["onClick"],ne=l(()=>e("br",null,null,-1)),re=l(()=>e("br",null,null,-1)),de={class:"col-lg-6 col-md-6"},ce={class:"mb-3"},ue=l(()=>e("label",{for:"things_to_expect"},"Instructors",-1)),me=["onUpdate:modelValue"],he=["onClick"],pe=l(()=>e("br",null,null,-1)),_e=l(()=>e("br",null,null,-1)),be={class:"row"},ge={class:"col-lg-6 col-md-6"},ve={class:"mb-3"},fe=l(()=>e("label",{for:"datepicker",class:"form-label"},"Select Date:",-1)),ye={class:"col-lg-6 col-md-6"},Ce={class:"mb-3"},xe=l(()=>e("label",{for:"timepicker",class:"form-label"},"Select Time:",-1)),we={class:"row"},Te={class:"col-lg-4 col-md-6"},Ie={class:"mb-3"},ke=l(()=>e("label",{for:"datepicker",class:"form-label"},"Duration",-1)),Fe={class:"col-lg-4 col-md-6"},Ue={class:"mb-3"},Se=l(()=>e("label",{for:"timepicker",class:"form-label"},"Skill Level",-1)),Ve=l(()=>e("option",{value:"Beginner to Intermidiate",selected:""},"Beginner to Intermidiate",-1)),Ee=l(()=>e("option",{value:"Advanced Level"},"Advanced Level",-1)),De=[Ve,Ee],Ne={class:"col-lg-4 col-md-6"},Be={class:"mb-3"},Ae=l(()=>e("label",{for:"categorySelect",class:"form-label"},"Select Category:",-1)),Le=l(()=>e("option",{value:""},"Select a category",-1)),Me=["value"],qe=l(()=>e("div",{class:"position-fixed bottom-0 end-0 p-5"},[e("button",{class:"btn rounded","data-bs-placement":"top","data-bs-toggle":"modal","data-bs-target":"#exampleModal",title:"Add New Item",style:{background:"orangered"}}," Create Category ")],-1)),Pe={class:"modal text-dark fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Re={class:"modal-dialog"},He={class:"modal-content"},Ke=l(()=>e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Create Category"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),je={class:"modal-body"},ze={class:"mb-3"},Ge=l(()=>e("label",{for:"exampleInputPassword1",class:"form-label"},"Name",-1)),Je=l(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),e("button",{type:"button",class:"btn btn-primary"},"Save changes")],-1));function Oe(a,s,h,v,o,i){const u=x("Icon");return r(),d(g,null,[R,e("form",{onSubmit:s[13]||(s[13]=k((...t)=>i.submitForm&&i.submitForm(...t),["prevent"])),ref:"uploadForm"},[e("div",H,[e("div",K,[e("div",j,[z,e("input",{type:"file",onChange:s[0]||(s[0]=(...t)=>i.handleFileChange&&i.handleFileChange(...t)),class:"form-control",id:"image",ref:"fileInput",required:""},null,544)]),e("div",G,[J,n(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[1]||(s[1]=t=>o.title=t)},null,512),[[c,o.title]])]),e("div",O,[Q,n(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":s[2]||(s[2]=t=>o.description=t),maxlength:"300",onInput:s[3]||(s[3]=(...t)=>i.updateCounter&&i.updateCounter(...t))},null,544),[[c,o.description]]),e("p",null,b(o.characterCount)+" / 300",1)]),e("div",W,[X,n(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":s[4]||(s[4]=t=>o.about=t),maxlength:"600",onInput:s[5]||(s[5]=(...t)=>i.updateTextareaCounter&&i.updateTextareaCounter(...t))},null,544),[[c,o.about]]),e("p",null,b(o.textareaCharacterCount)+" / 600",1)]),o.isUploading?(r(),d("button",Y,[Z,T(" "+b(o.showAlmostThere?"Almost there..":"Loading..."),1)])):(r(),d("button",$,[T("Save "),m(u,{icon:"ic:outline-save",color:"white"})]))]),e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[le,e("ul",null,[(r(!0),d(g,null,C(o.thingsToExpect,(t,p)=>(r(),d("li",{key:p,class:"my-1"},[n(e("input",{type:"text","onUpdate:modelValue":_=>t.value=_,name:"things[]",required:""},null,8,ae),[[c,t.value]]),e("button",{type:"button",onClick:_=>i.removeThing(p),class:"btn text-white",style:{}},[m(u,{icon:"clarity:remove-solid",color:"red",width:"20"})],8,ie)]))),128))]),e("button",{type:"button",onClick:s[6]||(s[6]=(...t)=>i.addThing&&i.addThing(...t)),class:"btn"},[m(u,{icon:"mdi:pen-add",color:"orange",width:"20"})]),ne,re])]),e("div",de,[e("div",ce,[ue,e("ul",null,[(r(!0),d(g,null,C(o.instructors,(t,p)=>(r(),d("li",{key:p,class:"my-1"},[n(e("input",{type:"text","onUpdate:modelValue":_=>t.value=_,name:"things[]",required:""},null,8,me),[[c,t.value]]),e("button",{type:"button",onClick:_=>i.removeCourseInstructor(p),class:"btn text-red",style:{}},[m(u,{icon:"clarity:remove-solid",color:"red",width:"20"})],8,he)]))),128))]),e("button",{type:"button",onClick:s[7]||(s[7]=(...t)=>i.addCourseInstructor&&i.addCourseInstructor(...t)),class:"btn"},[m(u,{icon:"mdi:pen-add",color:"orange",width:"20"})]),pe,_e])])]),e("div",be,[e("div",ge,[e("div",ve,[fe,n(e("input",{type:"date",class:"form-control",id:"datepicker","onUpdate:modelValue":s[8]||(s[8]=t=>o.date=t)},null,512),[[c,o.date]])])]),e("div",ye,[e("div",Ce,[xe,n(e("input",{type:"time",class:"form-control",id:"timepicker","onUpdate:modelValue":s[9]||(s[9]=t=>o.time=t)},null,512),[[c,o.time]])])])]),e("div",we,[e("div",Te,[e("div",Ie,[ke,n(e("input",{type:"text",class:"form-control",id:"","onUpdate:modelValue":s[10]||(s[10]=t=>o.duration=t)},null,512),[[c,o.duration]])])]),e("div",Fe,[e("div",Ue,[Se,n(e("select",{class:"form-select form-select-sm bg-dark text-white","aria-label":"Small select example","onUpdate:modelValue":s[11]||(s[11]=t=>o.level=t)},De,512),[[I,o.level]]),e("p",null,b(o.level),1)])]),e("div",Ne,[e("div",Be,[e("div",null,[Ae,n(e("select",{"onUpdate:modelValue":s[12]||(s[12]=t=>o.selectedCategory=t),class:"form-select form-select-sm bg-dark text-white","aria-label":"Small select example"},[Le,(r(!0),d(g,null,C(o.categories,t=>(r(),d("option",{key:t.id,value:t.id},b(t.name),9,Me))),128))],512),[[I,o.selectedCategory]])])])])])])])],544),qe,e("div",Pe,[e("div",Re,[e("div",He,[Ke,e("div",je,[e("form",null,[e("div",ze,[Ge,n(e("input",{type:"text",class:"form-control",id:"exampleInputPassword1",style:{color:"#000 !important"},"onUpdate:modelValue":s[14]||(s[14]=t=>o.newCategory=t),onKeyup:s[15]||(s[15]=B((...t)=>i.addCategory&&i.addCategory(...t),["enter"]))},null,544),[[c,o.newCategory]])]),e("button",{type:"submit",class:"btn btn-primary",onClick:s[16]||(s[16]=k((...t)=>i.addCategory&&i.addCategory(...t),["prevent"]))},"Create")])]),Je])])])],64)}const Qe=F(P,[["render",Oe],["__scopeId","data-v-b00abdff"]]),We={components:{adminEventForm:Qe,adminNavVue:M}},Xe={class:"container"},Ye={class:"row my-5"},Ze={class:"col-lg-12 col-md-12"};function $e(a,s,h,v,o,i){const u=x("adminNavVue"),t=x("adminEventForm");return r(),d(g,null,[m(u),e("div",Xe,[e("div",Ye,[e("div",Ze,[m(t)])])])],64)}const tt=F(We,[["render",$e]]);export{tt as default};
