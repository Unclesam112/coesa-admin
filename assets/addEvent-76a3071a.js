import{q as g,_ as f,s as v,x,y,j as w,k as E,z as F,o as r,c as m,a as e,w as a,v as i,g as I,t as T,b as D,F as b,h as k,r as h,e as _}from"./index-5ed8b289.js";const A=g(),N={data(){return{title:"",description:"",date:"",time:"",venue:"",guestNames:"",sponsorNames:"",selectedFiles:{event:[],guest:[],sponsor:[]},isUploading:!1,showAlmostThere:!1,eventDetails:[],guestDetails:[],sponsorDetails:[],callToAction:{title:"",link:""}}},methods:{handleFileChange(c){const s=this.$refs[c+"ImagesInput"];this.selectedFiles[c]=Array.from(s.files)},async submitForm(){const c=["event","guest","sponsor"];try{for(const s of c){const n=this.selectedFiles[s];if(n&&n.length>0){const d=[];for(const l of n){const t=v(A,s+"Images/"+l.name);await x(t,l),d.push(t)}const o=[];for(let l=0;l<n.length;l++){const t=await y(d[l]);if(s==="event")o.push({img:t});else{const p=s==="guest"?this.guestNames.split(",").map(u=>u.trim()):this.sponsorNames.split(",").map(u=>u.trim());o.push({img:t,name:p[l]})}}s==="event"?this.eventDetails=o:s==="guest"?this.guestDetails=o:s==="sponsor"&&(this.sponsorDetails=o)}}if(this.title&&this.description&&this.date&&this.time){const s=w(E,"Events");await F(s,{title:this.title,description:this.description,time:this.time,date:this.date,venue:this.venue,buttonTitle:this.callToAction.title,buttonLink:this.callToAction.link,eventDetails:this.eventDetails,guestDetails:this.guestDetails,sponsorDetails:this.sponsorDetails}),alert("Data saved successfully"),this.isUploading=!1,this.showAlmostThere=!1,this.title="",this.description="",this.date="",this.time="";for(const n of c)this.selectedFiles[n]=[]}else console.warn("Incomplete form.")}catch(s){console.error("Error uploading image or saving data:",s),this.isUploading=!1,this.showAlmostThere=!1}}}},V=e("h1",null,"Create Events",-1),U={class:"row"},C={class:"col-lg-6 col-md-6"},S={class:"accordion my-5",id:"accordionFlushExample"},B={class:"accordion-item bg-dark"},q=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," Add Event Image ")],-1),L={id:"flush-collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},R={class:"accordion-body"},G={class:"mb-3 mt-4"},O={class:"accordion-item my-2"},M=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"}," Add Guest Details ")],-1),P={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},j={class:"accordion-body"},z=e("h5",{class:"text-white"},"Pls add images according to thier names",-1),H={class:"mb-3 mt-4"},J=e("label",{for:"exampleInputName",class:"form-label"},"Add Guest Image",-1),K={class:"mb-3"},Q=e("label",{for:"exampleInputEmail1",class:"form-label text-white"}," Guest Names (seperate by comma)",-1),W={class:"accordion-item"},X=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree"}," Add Sponsors Details ")],-1),Y={id:"flush-collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Z={class:"accordion-body"},$=e("h5",{class:"text-white"},"Pls add images according to thier names",-1),ee={class:"mb-3 mt-4"},se=e("label",{for:"exampleInputName",class:"form-label"},"Add Sponsors Image",-1),te={class:"mb-3"},oe=e("label",{for:"exampleInputEmail1",class:"form-label text-white"},"Sponsor Names (seperate by comma)",-1),le={class:"accordion-item my-2 mb-4"},ae=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseFour","aria-expanded":"false","aria-controls":"flush-collapseFour"}," Call to Action (Button) ")],-1),ie={id:"flush-collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},ne={class:"accordion-body"},ce={class:"mb-3"},de=e("label",{for:"exampleInputEmail1",class:"form-label text-white"},"Button Title",-1),re={class:"mb-3"},me=e("label",{for:"exampleInputEmail1",class:"form-label text-white"},"Button link (compulsory)",-1),pe={class:"col-lg-6 col-md-6"},ue={class:"mb-3"},he=e("label",{for:"exampleInputEmail1",class:"form-label"}," Event Title",-1),_e={class:"mb-3"},fe=e("label",{for:"exampleInputEmail1",class:"form-label"}," Event Venue",-1),be={class:"mb-3"},ge=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Event Description",-1),ve={class:"row"},xe={class:"col-lg-6 col-md-6"},ye={class:"mb-3"},we=e("label",{for:"datepicker",class:"form-label"},"Select Date:",-1),Ee={class:"col-lg-6 col-md-6"},Fe={class:"mb-3"},Ie=e("label",{for:"timepicker",class:"form-label"},"Select Time:",-1),Te={key:0,type:"submit",class:"btn btn-secondary"},De=e("span",{class:"spinner-border spinner-border-sm text-white mx-2",role:"status"},null,-1),ke={key:1,type:"submit",class:"btn btn-secondary"};function Ae(c,s,n,d,o,l){return r(),m(b,null,[V,e("form",{onSubmit:s[12]||(s[12]=D((...t)=>l.submitForm&&l.submitForm(...t),["prevent"])),ref:"uploadForm"},[e("div",U,[e("div",C,[e("div",S,[e("div",B,[q,e("div",L,[e("div",R,[e("div",G,[e("input",{type:"file",onChange:s[0]||(s[0]=t=>l.handleFileChange("event")),class:"form-control",id:"image",ref:"eventImagesInput",required:"",multiple:""},null,544)])])])]),e("div",O,[M,e("div",P,[e("div",j,[z,e("div",H,[J,e("input",{type:"file",onChange:s[1]||(s[1]=t=>l.handleFileChange("guest")),class:"form-control",id:"image",ref:"guestImagesInput",required:"",multiple:""},null,544)]),e("div",K,[Q,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[2]||(s[2]=t=>o.guestNames=t)},null,512),[[i,o.guestNames]])])])])]),e("div",W,[X,e("div",Y,[e("div",Z,[$,e("div",ee,[se,e("input",{type:"file",onChange:s[3]||(s[3]=t=>l.handleFileChange("sponsor")),class:"form-control",id:"image",ref:"sponsorImagesInput",required:"",multiple:""},null,544)]),e("div",te,[oe,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[4]||(s[4]=t=>o.sponsorNames=t)},null,512),[[i,o.sponsorNames]])])])])]),e("div",le,[ae,e("div",ie,[e("div",ne,[e("div",ce,[de,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[5]||(s[5]=t=>o.callToAction.title=t)},null,512),[[i,o.callToAction.title]])]),e("div",re,[me,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[6]||(s[6]=t=>o.callToAction.link=t)},null,512),[[i,o.callToAction.link]])])])])])])]),e("div",pe,[e("div",ue,[he,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[7]||(s[7]=t=>o.title=t)},null,512),[[i,o.title]])]),e("div",_e,[fe,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[8]||(s[8]=t=>o.venue=t)},null,512),[[i,o.venue]])]),e("div",be,[ge,a(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":s[9]||(s[9]=t=>o.description=t)},null,512),[[i,o.description]])]),e("div",ve,[e("div",xe,[e("div",ye,[we,a(e("input",{type:"date",class:"form-control",id:"datepicker","onUpdate:modelValue":s[10]||(s[10]=t=>o.date=t)},null,512),[[i,o.date]])])]),e("div",Ee,[e("div",Fe,[Ie,a(e("input",{type:"time",class:"form-control",id:"timepicker","onUpdate:modelValue":s[11]||(s[11]=t=>o.time=t)},null,512),[[i,o.time]])])])])])]),o.isUploading?(r(),m("button",Te,[De,I(" "+T(o.showAlmostThere?"Almost there..":"Loading..."),1)])):(r(),m("button",ke,"Save"))],544)],64)}const Ne=f(N,[["render",Ae]]),Ve={components:{adminEventForm:Ne,adminNavVue:k}},Ue={class:"container"};function Ce(c,s,n,d,o,l){const t=h("adminNavVue"),p=h("adminEventForm");return r(),m(b,null,[_(t),e("div",Ue,[_(p)])],64)}const Be=f(Ve,[["render",Ce]]);export{Be as default};
