import{q as b,_ as h,s as g,x as v,y as x,j as y,k as w,z as E,o as r,c as m,a as e,w as a,v as n,g as I,t as F,b as T,F as _,h as k,r as p,e as u}from"./index-60ddb25b.js";const U=b(),N={data(){return{title:"",description:"",date:"",time:"",venue:"",guestNames:"",sponsorNames:"",selectedFiles:[],isUploading:!1,showAlmostThere:!1,downloadURLs:{event:[],guest:[],sponsor:[]},callToAction:{title:"",link:""}}},methods:{handleFileChange(i){const s=this.$refs[i+"ImagesInput"];this.selectedFiles[i]=Array.from(s.files)},async submitForm(){const i=["event","guest","sponsor"];try{for(const s of i){const c=this.selectedFiles[s];if(c&&c.length>0){const d=[];for(const l of c){const o=g(U,s+"Images/"+l.name);await v(o,l),d.push(o)}const t=[];for(const l of d){const o=await x(l);t.push(o)}this.downloadURLs[s]=t}}if(this.title&&this.description&&this.date&&this.time){const s=y(w,"Events"),c=this.guestNames.split(",").map(t=>t.trim()),d=this.sponsorNames.split(",").map(t=>t.trim());await E(s,{title:this.title,description:this.description,time:this.time,date:this.date,venue:this.venue,guestNames:c,sponsorNames:d,buttonTitle:this.callToAction.title,buttonLink:this.callToAction.link,eventImageUrls:this.downloadURLs.event,guestImageUrls:this.downloadURLs.guest,sponsorImageUrls:this.downloadURLs.sponsor}),alert("Data saved successfully"),console.log("Data saved successfully!"),this.isUploading=!1,this.showAlmostThere=!1,this.title="",this.description="",this.date="",this.time="";for(const t of i)this.selectedFiles[t]=[]}else console.warn("Incomplete form.")}catch(s){console.error("Error uploading image or saving data:",s),this.isUploading=!1,this.showAlmostThere=!1}}}},A=e("h1",null,"Create Events",-1),V={class:"row"},C={class:"col-lg-6 col-md-6"},R={class:"accordion bg-dark",id:"accordionFlushExample"},D={class:"accordion-item bg-dark"},L=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," Add Event Image ")],-1),S={id:"flush-collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},B={class:"accordion-body"},q={class:"mb-3 mt-4"},G={class:"accordion-item bg-dark"},O=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"}," Add Guest Details ")],-1),M={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},P={class:"accordion-body"},j=e("h5",{class:"text-white"},"Pls add images according to thier names",-1),z={class:"mb-3 mt-4"},H=e("label",{for:"exampleInputName",class:"form-label"},"Add Guest Image",-1),J={class:"mb-3"},K=e("label",{for:"exampleInputEmail1",class:"form-label text-white"}," Guest Names (seperate by comma)",-1),Q={class:"accordion-item bg-dark"},W=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree"}," Add Sponsors Details ")],-1),X={id:"flush-collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Y={class:"accordion-body"},Z=e("h5",{class:"text-white"},"Pls add images according to thier names",-1),$={class:"mb-3 mt-4"},ee=e("label",{for:"exampleInputName",class:"form-label"},"Add Sponsors Image",-1),se={class:"mb-3"},te=e("label",{for:"exampleInputEmail1",class:"form-label text-white"},"Sponsor Names (seperate by comma)",-1),oe={class:"accordion-item bg-dark"},le=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button bg-dark text-white collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseFour","aria-expanded":"false","aria-controls":"flush-collapseFour"}," Call to Action (Button) ")],-1),ae={id:"flush-collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},ne={class:"accordion-body"},ie={class:"mb-3"},ce=e("label",{for:"exampleInputEmail1",class:"form-label text-white"},"Button Title",-1),de={class:"mb-3"},re=e("label",{for:"exampleInputEmail1",class:"form-label text-white"},"Button link (compulsory)",-1),me={class:"col-lg-6 col-md-6"},pe={class:"mb-3"},ue=e("label",{for:"exampleInputEmail1",class:"form-label"}," Event Title",-1),he={class:"mb-3"},_e=e("label",{for:"exampleInputEmail1",class:"form-label"}," Event Venue",-1),fe={class:"mb-3"},be=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Event Description",-1),ge={class:"row"},ve={class:"col-lg-6 col-md-6"},xe={class:"mb-3"},ye=e("label",{for:"datepicker",class:"form-label"},"Select Date:",-1),we={class:"col-lg-6 col-md-6"},Ee={class:"mb-3"},Ie=e("label",{for:"timepicker",class:"form-label"},"Select Time:",-1),Fe={key:0,type:"submit",class:"btn btn-secondary"},Te=e("span",{class:"spinner-border spinner-border-sm text-white mx-2",role:"status"},null,-1),ke={key:1,type:"submit",class:"btn btn-secondary"};function Ue(i,s,c,d,t,l){return r(),m(_,null,[A,e("form",{onSubmit:s[12]||(s[12]=T((...o)=>l.submitForm&&l.submitForm(...o),["prevent"])),ref:"uploadForm"},[e("div",V,[e("div",C,[e("div",R,[e("div",D,[L,e("div",S,[e("div",B,[e("div",q,[e("input",{type:"file",onChange:s[0]||(s[0]=o=>l.handleFileChange("event")),class:"form-control",id:"image",ref:"eventImagesInput",required:"",multiple:""},null,544)])])])]),e("div",G,[O,e("div",M,[e("div",P,[j,e("div",z,[H,e("input",{type:"file",onChange:s[1]||(s[1]=o=>l.handleFileChange("guest")),class:"form-control",id:"image",ref:"guestImagesInput",required:"",multiple:""},null,544)]),e("div",J,[K,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[2]||(s[2]=o=>t.guestNames=o)},null,512),[[n,t.guestNames]])])])])]),e("div",Q,[W,e("div",X,[e("div",Y,[Z,e("div",$,[ee,e("input",{type:"file",onChange:s[3]||(s[3]=o=>l.handleFileChange("sponsor")),class:"form-control",id:"image",ref:"sponsorImagesInput",required:"",multiple:""},null,544)]),e("div",se,[te,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[4]||(s[4]=o=>t.sponsorNames=o)},null,512),[[n,t.sponsorNames]])])])])]),e("div",oe,[le,e("div",ae,[e("div",ne,[e("div",ie,[ce,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[5]||(s[5]=o=>t.callToAction.title=o)},null,512),[[n,t.callToAction.title]])]),e("div",de,[re,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[6]||(s[6]=o=>t.callToAction.link=o)},null,512),[[n,t.callToAction.link]])])])])])])]),e("div",me,[e("div",pe,[ue,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[7]||(s[7]=o=>t.title=o)},null,512),[[n,t.title]])]),e("div",he,[_e,a(e("input",{type:"text",class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":s[8]||(s[8]=o=>t.venue=o)},null,512),[[n,t.venue]])]),e("div",fe,[be,a(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":s[9]||(s[9]=o=>t.description=o)},null,512),[[n,t.description]])]),e("div",ge,[e("div",ve,[e("div",xe,[ye,a(e("input",{type:"date",class:"form-control",id:"datepicker","onUpdate:modelValue":s[10]||(s[10]=o=>t.date=o)},null,512),[[n,t.date]])])]),e("div",we,[e("div",Ee,[Ie,a(e("input",{type:"time",class:"form-control",id:"timepicker","onUpdate:modelValue":s[11]||(s[11]=o=>t.time=o)},null,512),[[n,t.time]])])])])])]),t.isUploading?(r(),m("button",Fe,[Te,I(" "+F(t.showAlmostThere?"Almost there..":"Loading..."),1)])):(r(),m("button",ke,"Save"))],544)],64)}const Ne=h(N,[["render",Ue]]),Ae={components:{adminEventForm:Ne,adminNavVue:k}},Ve={class:"container"};function Ce(i,s,c,d,t,l){const o=p("adminNavVue"),f=p("adminEventForm");return r(),m(_,null,[u(o),e("div",Ve,[u(f)])],64)}const De=h(Ae,[["render",Ce]]);export{De as default};
